<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>‡πÄ‡∏Å‡∏° ‡∏ó‡∏≤‡∏¢‡πÄ‡∏•‡∏Ç‡∏ó‡∏≤‡∏¢‡πÉ‡∏à</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Mitr:wght@300;400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <!-- Screen 1: Splash Screen -->
    <div id="splash-screen" class="game-screen show">
        <div class="splash-content">
            <h1 class="splash-title">‡πÄ‡∏Å‡∏°<br>‡∏ó‡∏≤‡∏¢‡πÄ‡∏•‡∏Ç‡∏ó‡∏≤‡∏¢‡πÉ‡∏à</h1>
            <div class="instructions">
                <h2>‡∏ß‡∏¥‡∏ò‡∏µ‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡πà‡∏ô (‡πÉ‡∏´‡∏°‡πà)</h2>
                <ol>
                    <li>‡∏ó‡∏≤‡∏¢‡πÄ‡∏•‡∏Ç 4 ‡∏´‡∏•‡∏±‡∏Å‡∏Ç‡∏≠‡∏á‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô (‡πÄ‡∏•‡∏Ç‡∏ã‡πâ‡∏≥‡πÑ‡∏î‡πâ)</li>
                    <li>‡πÄ‡∏Å‡∏°‡∏à‡∏∞‡∏ö‡∏≠‡∏Å‡πÉ‡∏ö‡πâ‡∏ß‡πà‡∏≤‡∏ó‡∏≤‡∏¢ **"‡∏ñ‡∏π‡∏Å‡πÄ‡∏•‡∏Ç ‡∏ñ‡∏π‡∏Å‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á" (Strike)** ‡∏´‡∏£‡∏∑‡∏≠ **"‡∏ñ‡∏π‡∏Å‡πÄ‡∏•‡∏Ç ‡∏ú‡∏¥‡∏î‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á" (Ball)** ‡∏Å‡∏µ‡πà‡∏ï‡∏±‡∏ß</li>
                    <li>‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏°‡∏±‡πà‡∏ô‡πÉ‡∏à‡πÉ‡∏ô‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö ‡πÉ‡∏´‡πâ‡∏Å‡∏î "‡∏™‡πà‡∏á‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö‡∏™‡∏∏‡∏î‡∏ó‡πâ‡∏≤‡∏¢" (‡∏°‡∏µ 3 ‡πÇ‡∏≠‡∏Å‡∏≤‡∏™)</li>
                    <li>‡πÉ‡∏Ñ‡∏£‡∏ï‡∏≠‡∏ö‡∏ñ‡∏π‡∏Å‡∏Å‡πà‡∏≠‡∏ô‡πÄ‡∏õ‡πá‡∏ô‡∏ú‡∏π‡πâ‡∏ä‡∏ô‡∏∞!</li>
                </ol>
                <p class="start-prompt">(‡πÅ‡∏ï‡∏∞‡∏ó‡∏µ‡πà‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÑ‡∏õ‡∏ï‡πà‡∏≠)</p>
            </div>
        </div>
    </div>

    <!-- Screen 2: Lobby Screen -->
    <div id="lobby-screen" class="game-screen">
        <div class="lobby-container">
            <div class="lobby-box">
                <h2 class="lobby-title">‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏´‡πâ‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà</h2>
                <p class="lobby-description">‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏´‡πâ‡∏≠‡∏á‡πÅ‡∏•‡∏∞‡∏ä‡∏ß‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡∏°‡∏≤‡πÄ‡∏•‡πà‡∏ô</p>
                <button id="go-to-create-btn" class="lobby-button">‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏´‡πâ‡∏≠‡∏á</button>
            </div>
            <div class="lobby-box">
                <h2 class="lobby-title">‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏°‡∏´‡πâ‡∏≠‡∏á</h2>
                <p class="lobby-description">‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏´‡πâ‡∏≠‡∏á‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡πÅ‡∏•‡∏∞‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏°</p>
                <button id="go-to-join-btn" class="lobby-button">‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏°‡∏´‡πâ‡∏≠‡∏á</button>
            </div>
        </div>
    </div>

    <!-- Screen 3: Create Room Setup Screen (‡∏•‡∏ö‡∏™‡πà‡∏ß‡∏ô‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏≠‡∏≠‡∏Å‡πÅ‡∏•‡πâ‡∏ß) -->
    <div id="create-room-screen" class="game-screen">
        <div class="lobby-container">
            <div class="lobby-box">
                <h2 class="lobby-title">‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏´‡πâ‡∏≠‡∏á‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì</h2>
                <input type="text" id="host-name-input" class="lobby-input" placeholder="‡∏ä‡∏∑‡πà‡∏≠‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì" maxlength="12">
                <input type="text" id="new-room-name-input" class="lobby-input" placeholder="‡∏ä‡∏∑‡πà‡∏≠‡∏´‡πâ‡∏≠‡∏á (‡πÄ‡∏ä‡πà‡∏ô ‡∏´‡πâ‡∏≠‡∏á‡∏Ç‡∏≠‡∏á‡∏ï‡∏π‡πà)" maxlength="20">
                <input type="password" id="new-room-password-input" class="lobby-input" placeholder="‡∏ï‡∏±‡πâ‡∏á‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô (4 ‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç)" maxlength="4" inputmode="numeric">
                <button id="confirm-create-btn" class="lobby-button">‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡πÅ‡∏•‡∏∞‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏´‡πâ‡∏≠‡∏á</button>
            </div>
        </div>
    </div>

    <!-- Screen 4: Room List Screen -->
    <div id="room-list-screen" class="game-screen">
        <div class="room-list-container">
            <h2 class="room-list-title">‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏´‡πâ‡∏≠‡∏á‡∏ó‡∏µ‡πà‡∏ß‡πà‡∏≤‡∏á‡∏≠‡∏¢‡∏π‡πà</h2>
            <div id="room-list-content">
                <p class="no-rooms-message">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏´‡πâ‡∏≠‡∏á‡∏ß‡πà‡∏≤‡∏á‡πÉ‡∏ô‡∏Ç‡∏ì‡∏∞‡∏ô‡∏µ‡πâ...</p>
            </div>
        </div>
    </div>

    <!-- Screen 4.5: Joiner Setup Screen (‡∏•‡∏ö‡∏™‡πà‡∏ß‡∏ô‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏≠‡∏≠‡∏Å‡πÅ‡∏•‡πâ‡∏ß) -->
    <div id="joiner-setup-screen" class="game-screen">
        <div class="lobby-container">
            <div class="lobby-box">
                <h2 class="lobby-title">‡∏ï‡∏±‡πâ‡∏á‡∏ä‡∏∑‡πà‡∏≠‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì</h2>
                <p class="lobby-description">‡∏Ñ‡∏∏‡∏ì‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏à‡∏∞‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏°‡∏´‡πâ‡∏≠‡∏á <strong id="joiner-room-name-display"></strong></p>
                <input type="text" id="joiner-name-input" class="lobby-input" placeholder="‡∏Å‡∏£‡∏≠‡∏Å‡∏ä‡∏∑‡πà‡∏≠‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà" maxlength="12">
                <button id="confirm-join-btn" class="lobby-button">‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡πÅ‡∏•‡∏∞‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏°</button>
            </div>
        </div>
    </div>

    <!-- Screen 5: Waiting Room Screen (‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÄ‡∏õ‡πá‡∏ô‡∏ä‡∏∑‡πà‡∏≠‡∏¢‡πà‡∏≠) -->
    <div id="waiting-room-screen" class="game-screen">
        <div class="waiting-room-container">
            <h2 class="waiting-room-title">‡∏´‡πâ‡∏≠‡∏á‡∏£‡∏≠‡πÄ‡∏•‡πà‡∏ô</h2>
            <p class="room-code-display">‡∏ä‡∏∑‡πà‡∏≠‡∏´‡πâ‡∏≠‡∏á: <span id="room-code-text">----</span></p>
            <div class="player-list">
                <div class="player-slot" id="player1-slot">
                    <div class="player-avatar-initial" id="p1-avatar-initial">?</div>
                    <div class="player-info">
                        <span class="player-name">‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô 1 (‡πÄ‡∏à‡πâ‡∏≤‡∏Ç‡∏≠‡∏á‡∏´‡πâ‡∏≠‡∏á)</span>
                        <span class="player-status connected">‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡πÅ‡∏•‡πâ‡∏ß</span>
                    </div>
                </div>
                <div class="player-slot" id="player2-slot">
                    <div class="player-avatar-initial" id="p2-avatar-initial">?</div>
                    <div class="player-info">
                        <span class="player-name">‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô 2</span>
                        <span class="player-status waiting">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏£‡∏≠...</span>
                    </div>
                </div>
            </div>
            <p id="waiting-message" class="waiting-message">‡πÅ‡∏ä‡∏£‡πå‡∏ä‡∏∑‡πà‡∏≠‡∏´‡πâ‡∏≠‡∏á‡πÅ‡∏•‡∏∞‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡πÉ‡∏´‡πâ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì!</p>
            <button id="start-game-btn" class="lobby-button" disabled>‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏Å‡∏°</button>
        </div>
    </div>

    <!-- Screen 6: Main Game Screen -->
    <div id="main-game-screen" class="game-screen">
        <div id="turn-indicator" class="turn-indicator">
            <span id="turn-text">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏£‡∏≠...</span>
        </div>
        <div class="main-container">
            <div class="game-header-numbers">
                <div class="header-number-box">
                    <div class="header-title">‚≠ê ‡πÄ‡∏•‡∏Ç‡∏Ç‡∏≠‡∏á‡πÄ‡∏£‡∏≤</div>
                    <div id="our-number-display" class="input-container"></div>
                </div>
                <div class="header-number-box">
                    <div class="header-title">üíñ ‡πÄ‡∏•‡∏Ç‡∏Ç‡∏≠‡∏á‡πÄ‡∏Ç‡∏≤</div>
                    <div id="their-number-display" class="input-container"></div>
                </div>
            </div>
            <div class="section">
                <h2 class="section-title">‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡∏ó‡∏≤‡∏¢</h2>
                <div id="history-log" class="history-log"></div>
            </div>
            <div class="section guess-controls">
                <h2 class="section-title">‡∏ó‡∏≤‡∏¢‡πÄ‡∏•‡∏Ç / ‡∏™‡πà‡∏á‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö</h2>
                <div id="guess-number-container" class="input-container"></div>
                <div id="number-pad-container" class="number-grid"></div>
            </div>
            <div class="final-answer-section">
                <div class="final-answer-chances">
                    ‡πÇ‡∏≠‡∏Å‡∏≤‡∏™‡∏ï‡∏≠‡∏ö:
                    <span id="chance-1" class="chance-dot"></span>
                    <span id="chance-2" class="chance-dot"></span>
                    <span id="chance-3" class="chance-dot"></span>
                </div>
                <button id="submit-final-answer-btn" class="final-answer-button">‡∏™‡πà‡∏á‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö‡∏™‡∏∏‡∏î‡∏ó‡πâ‡∏≤‡∏¢</button>
            </div>
        </div>
    </div>

    <!-- Screen 7: Game Over Screen -->
    <div id="game-over-screen" class="game-screen">
        <div class="game-over-container">
            <h1 id="game-over-title" class="game-over-title">‡∏Ñ‡∏∏‡∏ì‡∏ä‡∏ô‡∏∞!</h1>
            <h2 id="winner-name" class="winner-name"></h2>
            <p id="game-over-message" class="game-over-message">‡∏Ñ‡∏∏‡∏ì‡∏ó‡∏≤‡∏¢‡πÄ‡∏•‡∏Ç‡∏Ç‡∏≠‡∏á‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏î‡πâ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!</p>
            <div class="game-over-numbers">
                <div class="final-number-box">
                    <div class="final-number-box-title">‡πÄ‡∏•‡∏Ç‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì</div>
                    <div id="final-our-number" class="final-number-display">1234</div>
                </div>
                <div class="final-number-box">
                    <div class="final-number-box-title">‡πÄ‡∏•‡∏Ç‡∏Ç‡∏≠‡∏á‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô</div>
                    <div id="final-their-number" class="final-number-display">5678</div>
                </div>
            </div>
            <div class="game-over-buttons">
                <button id="rematch-btn" class="lobby-button">‡πÄ‡∏•‡πà‡∏ô‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á</button>
                <button id="back-to-lobby-btn" class="lobby-button secondary">‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å</button>
            </div>
        </div>
    </div>

    <!-- Modals and Toasts -->
    <div id="password-modal" class="modal-overlay">
        <div class="modal-content">
            <h3 class="modal-title">‡∏Å‡∏£‡∏≠‡∏Å‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏´‡πâ‡∏≠‡∏á</h3>
            <p id="password-modal-room-name"></p>
            <input type="password" id="password-modal-input" class="lobby-input" placeholder="‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô 4 ‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç" maxlength="4" inputmode="numeric">
            <button id="password-modal-submit-btn" class="lobby-button">‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô</button>
        </div>
    </div>
    <div id="toast" class="toast-notification"></div>

    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-database-compat.js"></script>
    
    <script src="script.js"></script>

</body>
</html>
